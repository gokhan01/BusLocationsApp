@{
    ViewData["Title"] = "Bileti Bul";
}

@section Styles {
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet" />
    <link href="~/lib/datepicker/datepicker.min.css" rel="stylesheet" />
    <link href="~/css/pages/index.css" rel="stylesheet" asp-append-version="true" />
}

<div class="wrapper">
    <div class="card text-center">
        <div class="card-header"></div>
        <div class="card-body">
            @{
                string circleBtnClassName = "";
            }
            @if (TempData["errorMessage"] != null)
            {
                circleBtnClassName = "alert-present";
                <div class="alert alert-danger" role="alert">
                    @TempData["errorMessage"]
                </div>
            }
            <form asp-action="Index" asp-controller="Journeys" method="GET" id="locationsForm">
                <!--Users should be able to swap selected origin and destination locations using the swap button shown in the design-->
                <button class="btn btn-outline-dark btn-circle @circleBtnClassName" id="swapButton" type="button"><i class="bi bi-arrow-down-up"></i></button>
                <div class="inline-card mb-2">
                    <!-- Başlık -->
                    <div class="row">
                        <div class="col offset-1 ps-3">
                            <strong class="text-primary mb-2 float-start">Nereden</strong>
                        </div>
                    </div>

                    <!-- İçerik -->
                    <div class="row align-items-center">
                        <!-- Icon ve Select Elementi -->
                        <div class="col d-flex align-items-center">
                            <!-- Icon -->
                            <i class="bi bi-geo-alt text-muted me-2"></i>

                            <!-- Select -->
                            <select class="origins-select form-select" name="originId" id="originsSelect" style="width: 75%;"></select>
                        </div>
                    </div>
                </div>

                <!-- Sağ Taraf -->
                <div class="inline-card mb-4">
                    <!-- Başlık -->
                    <div class="row">
                        <div class="col offset-1 ps-3">
                            <strong class="text-primary mb-2 float-start">Nereye</strong>
                        </div>
                    </div>

                    <!-- İçerik -->
                    <div class="row align-items-center">
                        <!-- Icon ve Select Elementi -->
                        <div class="col d-flex align-items-center">
                            <!-- Icon -->
                            <i class="bi bi-geo-alt text-muted me-2"></i>

                            <!-- Select -->
                            <select class="destinations-select form-select" name="destinationId" id="destinationsSelect" style="width: 75%;"></select>
                        </div>
                    </div>
                </div>

                <div class="inline-card mb-4">
                    <div class="row">
                        <div class="col-8">
                            <div class="row">
                                <div class="col offset-1 ps-4">
                                    <strong class="text-primary mb-2 float-start">Tarih</strong>
                                </div>
                            </div>

                            <!-- İçerik -->
                            <div class="row align-items-center">
                                <!-- Icon ve Select Elementi -->
                                <div class="col d-flex align-items-center">
                                    <!-- Icon -->
                                    <i class="bi bi-calendar3 text-muted me-2"></i>

                                    <!-- Select -->
                                    <!-- Default value for the Departure Date field should be tomorrow. -->
                                    <input type="text" class="form-control datepicker" id="departureDateInput" name="departureDate" value="@DateTime.Today.AddDaysFormatted(1)" />
                                </div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="d-flex flex-column">
                                <!--Quick selection buttonsfor setting the date to “Today” and “Tomorrow” should setting the value of the departure date field properly.-->
                                <button type="button" class="btn btn-outline-secondary btn-sm mb-2 set-departure-day-btn" data-value="today">Bugün</button>
                                <button type="button" class="btn btn-secondary btn-sm set-departure-day-btn" data-value="tomorrow">Yarın</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-grid gap-2 col-6 mx-auto  mb-4">
                    <!--Search button should redirect user to the journey index page with the specified origin, destination and departure date information.-->
                    <button class="btn btn-primary" type="submit" id="findTicketButton">Bileti Bul</button>
                </div>
            </form>
        </div>
        <div class="card-footer text-muted bg-white">
            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum</p>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn-script.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/i18n/tr.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script src="~/lib/datepicker/datepicker.min.js"></script>
    <script src="~/lib/datepicker/i18n/datepicker.tr-tr.min.js"></script>
    <script src="~/js/pages/index.js" asp-append-version="true"></script>
}
